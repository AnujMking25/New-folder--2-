<script>
    const posts=[
        {
        title:'Post One',
        body:'This is post one',createdAt:new Date().getTime()},
        {title:'Post Two',
        body:'This is post two',createdAt:new Date().getTime()}
        ];
        let intervalid=0;
    function getPosts(){
        clearInterval(intervalid);

       intervalid= setInterval(
            ()=>{
                let output='';
                posts.forEach((post,index)=>{
                    output+=`<li>${post.title} created  ${(new Date().getTime() - post.createdAt)/1000}  Second ago</li>`
                });
                document.body.innerHTML=output;
            },1000);
        }
        getPosts();
    function creatPost(post,callback){
        setTimeout(()=>{
            posts.push({...post,createdAt: new Date().getTime()});
            callback();
        },2000);
    }
    creatPost({title :'Post Three',body:'This is post three'},getPosts);

    function create4thPost(post,callback){
        setTimeout(()=>{
            posts.push({...post,createdAt: new Date().getTime()});
            callback();
            
        },2000);
    }
    create4thPost({title :'Post four',body:'This is post four'},getPosts);
   
</script>